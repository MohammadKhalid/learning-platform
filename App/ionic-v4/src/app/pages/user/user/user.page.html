<ion-header no-border>
  <ion-toolbar color="primary">
  	<ion-buttons slot="start">
			<ion-menu-button *ngIf="routeData?.rootUrl === routeData?.type" color="light"></ion-menu-button>
			<ion-back-button *ngIf="routeData?.rootUrl !== routeData?.type" defaultHref="{{routeData.rootUrl}}"></ion-back-button>
    </ion-buttons>

    <ion-title text-capitalize>{{routeData.plural}}</ion-title>

    <ion-buttons slot="end" *ngIf="canAdd()">
		<ion-button strong="true" routerDirection="root" routerLink="/{{routeData.appUrl}}/add"><ion-icon slot="icon-only" name="add"></ion-icon></ion-button>
	</ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
	<ion-list>

		<ion-item lines="none" *ngIf="items?.length < 1">
			<ion-label><p>No {{routeData.singular}} found</p></ion-label>
		</ion-item>

		<ion-item *ngFor="let item of items;" routerDirection="root" routerLink="{{detailLink}}{{item.id}}">
			<ion-avatar slot="start" *ngIf="routeData?.type === 'student' || routeData?.type === 'coach'">
				<img src="assets/img/user/{{routeData.type}}-avatar.png">
			</ion-avatar>
			<ion-badge slot="end" *ngIf="routeData.type === 'company'">{{item?.subscription?.subscriptionPackage?.name || 'Unknown Subscription'}}</ion-badge>
			<ion-icon slot="start" name="business" *ngIf="routeData?.type === 'company'"></ion-icon>
			<ion-label>
				{{item?.firstName}} {{item?.lastName}}

				<p>
					<span *ngFor="let company of item.companies">{{company.name}}</span>
					<span *ngIf="item.companies.length < 1">Thrive19 Company</span>
				</p>
			</ion-label>
		</ion-item>

	</ion-list>
</ion-content>
