(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{lSOi:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("ZZ/e"),i=e("dFOY"),o=e("1lyD"),c=function(){function l(l,n,e,t,u,i){this.restApi=l,this.authService=n,this.activatedRoute=e,this.navCtrl=t,this.actionSheetCtrl=u,this.alertCtrl=i,this.urlEndPoint="topic",this.mediaBaseUrl=this.restApi.url,this.sessionData=this.authService.getSessionData()}return l.prototype.ngOnInit=function(){var l=this;this.activatedRoute.params.subscribe(function(n){l.paramData=n,l.paramData.id?l.restApi.get("topics/"+l.paramData.id,{}).then(function(n){!0===n.success?(l.item=n.item,l.buildMediaPath()):l.restApi.showMsg("Topic not found!").then(function(){l.navCtrl.navigateRoot("/topic")})}):l.restApi.showMsg("Topic not found!").then(function(){})})},l.prototype.buildMediaPath=function(){for(var l=this.item.questions.length-1;l>=0;l--)if(this.item.questions[l].question)for(var n=this.item.questions[l].question.medias.length-1;n>=0;n--){var e=this.item.questions[l].question.medias[n],t=e.type,u=t.split("/")[0],i=[{type:t,path:this.restApi.url+e.path}];if("video"===u||"application/octet-stream"===t){var o=e.path.split(".");if("mp4"!==o[o.length-1]){var c=o;c.pop();var d=c.join(".")+".mp4";i.push({type:"video/mp4",path:this.restApi.url+d})}}this.item.questions[l].question.medias[n].paths=i}},l.prototype.presentPageAction=function(){var l=this;this.actionSheetCtrl.create({header:this.item.title,buttons:[{text:"Add Challenge",icon:"add",handler:function(){l.navCtrl.navigateRoot("/topic/detail/"+l.item.id+"/challenge/add")}},{text:"Edit",icon:"create",handler:function(){l.navCtrl.navigateRoot("/topic/edit/"+l.item.id)}},{text:"Delete",role:"destructive",icon:"trash",handler:function(){l.alertCtrl.create({header:"Delete Confirmation",subHeader:l.item.title,message:"Are you sure you want to delete this topic?",buttons:[{text:"Cancel",role:"cancel"},{text:"Yes",handler:function(){l.restApi.showMsg("Deleting...",0).then(function(n){l.restApi.delete(l.urlEndPoint+"s/"+l.item.id).then(function(n){l.restApi.toast.dismiss(),!0===n.success?l.restApi.showMsg("Topic "+l.item.title+" has been deleted!").then(function(){l.navCtrl.navigateRoot(l.urlEndPoint)}):l.restApi.showMsg(n.error)})})}}]}).then(function(l){l.present()})}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).then(function(l){l.present()})},l}(),d=function(){return function(){}}(),r=e("pMnS"),a=e("oBZk"),s=e("Ip0R"),m=e("ZYCi"),f=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function p(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ion-buttons",[["slot","end"]],null,null,null,a.mb,a.f)),t["\u0275did"](1,49152,null,0,u.m,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"ion-button",[["strong","true"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.presentPageAction()&&t),t},a.lb,a.e)),t["\u0275did"](3,49152,null,0,u.l,[t.ChangeDetectorRef,t.ElementRef],{strong:[0,"strong"]},null),(l()(),t["\u0275eld"](4,0,null,0,1,"ion-icon",[["name","more"],["slot","icon-only"]],null,null,null,a.Db,a.w)),t["\u0275did"](5,49152,null,0,u.D,[t.ChangeDetectorRef,t.ElementRef],{name:[0,"name"]},null)],function(l,n){l(n,3,0,"true"),l(n,5,0,"more")},null)}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No category"]))],null,null)}function g(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ion-item",[["lines","inset"]],null,null,null,a.Nb,a.B)),t["\u0275did"](1,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],{lines:[0,"lines"]},null),(l()(),t["\u0275eld"](2,0,null,0,3,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](3,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](4,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""]))],function(l,n){l(n,1,0,"inset")},function(l,n){l(n,5,0,null==n.context.$implicit?null:n.context.$implicit.title)})}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No challenges for this topic"]))],null,null)}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"source",[],[[8,"src",4],[8,"type",0]],null,null,null,null))],null,function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",null==n.context.$implicit?null:n.context.$implicit.path,""),t["\u0275inlineInterpolate"](1,"",null==n.context.$implicit?null:n.context.$implicit.type,""))})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","video-box"],["style","overflow: hidden;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"video",[["class","video"],["controls",""],["preload","auto"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](3,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.paths)},null)}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ion-img",[],null,null,null,a.Eb,a.x)),t["\u0275did"](1,49152,null,0,u.E,[t.ChangeDetectorRef,t.ElementRef],{src:[0,"src"]},null)],function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",null==n.parent.context.$implicit?null:null==n.parent.context.$implicit.paths[0]?null:n.parent.context.$implicit.paths[0].path,""))},null)}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["padding-horizontal",""]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](2,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](4,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,"video/webm"===(null==n.context.$implicit?null:n.context.$implicit.type)||"video/mp4"===(null==n.context.$implicit?null:n.context.$implicit.type)||"application/octet-stream"===(null==n.context.$implicit?null:n.context.$implicit.type)),l(n,4,0,"image/jpeg"===(null==n.context.$implicit?null:n.context.$implicit.type)||"image/jpg"===(null==n.context.$implicit?null:n.context.$implicit.type)||"image/png"===(null==n.context.$implicit?null:n.context.$implicit.type)||"image/gif"===(null==n.context.$implicit?null:n.context.$implicit.type))},null)}function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,42,"ion-card",[],null,null,null,a.rb,a.g)),t["\u0275did"](1,49152,null,0,u.n,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,4,"ion-card-header",[["color","light"]],null,null,null,a.ob,a.i)),t["\u0275did"](3,49152,null,0,u.p,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"]},null),(l()(),t["\u0275eld"](4,0,null,0,2,"ion-card-title",[],null,null,null,a.qb,a.k)),t["\u0275did"](5,49152,null,0,u.r,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](6,0,["#",""])),(l()(),t["\u0275eld"](7,0,null,0,35,"ion-grid",[],null,null,null,a.Bb,a.u)),t["\u0275did"](8,49152,null,0,u.B,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](9,0,null,0,33,"ion-row",[],null,null,null,a.Zb,a.S)),t["\u0275did"](10,49152,null,0,u.jb,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](11,0,null,0,27,"ion-col",[["size","12"],["size-md","6"]],null,null,null,a.ub,a.n)),t["\u0275did"](12,49152,null,0,u.u,[t.ChangeDetectorRef,t.ElementRef],{size:[0,"size"]},null),(l()(),t["\u0275eld"](13,0,null,0,7,"ion-item",[],null,null,null,a.Nb,a.B)),t["\u0275did"](14,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](15,0,null,0,5,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](16,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](17,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Challenge / Question"])),(l()(),t["\u0275eld"](19,0,null,0,1,"p",[["text-wrap",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["",""])),(l()(),t["\u0275eld"](21,0,null,0,7,"ion-item",[],null,null,null,a.Nb,a.B)),t["\u0275did"](22,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](23,0,null,0,5,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](24,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](25,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Work-track / Script"])),(l()(),t["\u0275eld"](27,0,null,0,1,"p",[["text-wrap",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](28,null,["",""])),(l()(),t["\u0275eld"](29,0,null,0,9,"ion-item",[["lines","none"]],null,null,null,a.Nb,a.B)),t["\u0275did"](30,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],{lines:[0,"lines"]},null),(l()(),t["\u0275eld"](31,0,null,0,5,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](32,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](33,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Time Limit"])),(l()(),t["\u0275eld"](35,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](36,null,[""," seconds"])),(l()(),t["\u0275eld"](37,0,null,0,1,"ion-icon",[["mode","ios"],["name","timer"],["slot","end"]],null,null,null,a.Db,a.w)),t["\u0275did"](38,49152,null,0,u.D,[t.ChangeDetectorRef,t.ElementRef],{mode:[0,"mode"],name:[1,"name"]},null),(l()(),t["\u0275eld"](39,0,null,0,3,"ion-col",[["size","12"],["size-md","6"]],null,null,null,a.ub,a.n)),t["\u0275did"](40,49152,null,0,u.u,[t.ChangeDetectorRef,t.ElementRef],{size:[0,"size"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,v)),t["\u0275did"](42,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,"light"),l(n,12,0,"12"),l(n,30,0,"none"),l(n,38,0,"ios","timer"),l(n,40,0,"12"),l(n,42,0,null==n.context.$implicit?null:null==n.context.$implicit.question?null:n.context.$implicit.question.medias)},function(l,n){l(n,6,0,null==n.context.$implicit?null:n.context.$implicit.number),l(n,20,0,null==n.context.$implicit?null:null==n.context.$implicit.question?null:n.context.$implicit.question.question),l(n,28,0,(null==n.context.$implicit?null:null==n.context.$implicit.question?null:n.context.$implicit.question.script)||"No Work-track / script provided"),l(n,36,0,!0===(null==n.context.$implicit?null:null==n.context.$implicit.question?null:n.context.$implicit.question.answerLimit)?null==n.context.$implicit?null:null==n.context.$implicit.question?null:n.context.$implicit.question.answerLimitTime:"No limit")})}function E(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"ion-header",[["no-border",""]],null,null,null,a.Cb,a.v)),t["\u0275did"](1,49152,null,0,u.C,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,a.mc,a.fb)),t["\u0275did"](3,49152,null,0,u.Cb,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"]},null),(l()(),t["\u0275eld"](4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.mb,a.f)),t["\u0275did"](5,49152,null,0,u.m,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](6,0,null,0,2,"ion-back-button",[["defaultHref","topic"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,8).onClick(e)&&u),u},a.jb,a.c)),t["\u0275did"](7,49152,null,0,u.h,[t.ChangeDetectorRef,t.ElementRef],{defaultHref:[0,"defaultHref"]},null),t["\u0275did"](8,16384,null,0,u.i,[[2,u.ib],u.Jb],{defaultHref:[0,"defaultHref"]},null),(l()(),t["\u0275eld"](9,0,null,0,2,"ion-title",[["text-capitalize",""]],null,null,null,a.kc,a.db)),t["\u0275did"](10,49152,null,0,u.Ab,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,["Topic Detail"])),(l()(),t["\u0275and"](16777216,null,0,1,null,p)),t["\u0275did"](13,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,null,39,"ion-content",[],null,null,null,a.vb,a.o)),t["\u0275did"](15,49152,null,0,u.v,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](16,0,null,0,11,"ion-list",[],null,null,null,a.Qb,a.I)),t["\u0275did"](17,49152,null,0,u.P,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](18,0,null,0,9,"ion-item",[["lines","none"]],null,null,null,a.Nb,a.B)),t["\u0275did"](19,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],{lines:[0,"lines"]},null),(l()(),t["\u0275eld"](20,0,null,0,7,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](21,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](22,0,null,0,3,"ion-text",[["color","primary"]],null,null,null,a.ic,a.bb)),t["\u0275did"](23,49152,null,0,u.xb,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"]},null),(l()(),t["\u0275eld"](24,0,null,0,1,"h1",[],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,["",""])),(l()(),t["\u0275eld"](26,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,["",""])),(l()(),t["\u0275eld"](28,0,null,0,12,"ion-list",[],null,null,null,a.Qb,a.I)),t["\u0275did"](29,49152,null,0,u.P,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](30,0,null,0,8,"ion-item",[["lines","none"]],null,null,null,a.Nb,a.B)),t["\u0275did"](31,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],{lines:[0,"lines"]},null),(l()(),t["\u0275eld"](32,0,null,0,1,"ion-icon",[["name","list"],["slot","start"]],null,null,null,a.Db,a.w)),t["\u0275did"](33,49152,null,0,u.D,[t.ChangeDetectorRef,t.ElementRef],{name:[0,"name"]},null),(l()(),t["\u0275eld"](34,0,null,0,4,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](35,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" Categories "])),(l()(),t["\u0275and"](16777216,null,0,1,null,h)),t["\u0275did"](38,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,g)),t["\u0275did"](40,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](41,0,null,0,10,"ion-list",[],null,null,null,a.Qb,a.I)),t["\u0275did"](42,49152,null,0,u.P,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](43,0,null,0,8,"ion-item",[["lines","none"]],null,null,null,a.Nb,a.B)),t["\u0275did"](44,49152,null,0,u.I,[t.ChangeDetectorRef,t.ElementRef],{lines:[0,"lines"]},null),(l()(),t["\u0275eld"](45,0,null,0,1,"ion-icon",[["name","crop"],["slot","start"]],null,null,null,a.Db,a.w)),t["\u0275did"](46,49152,null,0,u.D,[t.ChangeDetectorRef,t.ElementRef],{name:[0,"name"]},null),(l()(),t["\u0275eld"](47,0,null,0,4,"ion-label",[],null,null,null,a.Ob,a.H)),t["\u0275did"](48,49152,null,0,u.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" Challenges "])),(l()(),t["\u0275and"](16777216,null,0,1,null,R)),t["\u0275did"](51,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,x)),t["\u0275did"](53,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"primary"),l(n,7,0,"topic"),l(n,8,0,"topic"),l(n,13,0,"student"!==e.sessionData.user.type),l(n,19,0,"none"),l(n,23,0,"primary"),l(n,31,0,"none"),l(n,33,0,"list"),l(n,38,0,(null==e.item?null:null==e.item.categories?null:e.item.categories.length)<1),l(n,40,0,null==e.item?null:e.item.categories),l(n,44,0,"none"),l(n,46,0,"crop"),l(n,51,0,(null==e.item?null:null==e.item.questions?null:e.item.questions.length)<1),l(n,53,0,null==e.item?null:e.item.questions)},function(l,n){var e=n.component;l(n,25,0,(null==e.item?null:e.item.title)||"-"),l(n,27,0,(null==e.item?null:e.item.description)||"No description")})}function $(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-topic-detail",[],null,null,null,E,f)),t["\u0275did"](1,114688,null,0,c,[i.a,o.a,m.a,u.Jb,u.a,u.b],null,null)],function(l,n){l(n,1,0)},null)}var I=t["\u0275ccf"]("app-topic-detail",c,$,{},{},[]),y=e("gIcY");e.d(n,"TopicDetailPageModuleNgFactory",function(){return w});var w=t["\u0275cmf"](d,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,I]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[t.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,y.s,y.s,[]),t["\u0275mpd"](4608,u.c,u.c,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,u.Ib,u.Ib,[u.c,t.ComponentFactoryResolver,t.Injector,s.DOCUMENT]),t["\u0275mpd"](4608,u.Nb,u.Nb,[u.c,t.ComponentFactoryResolver,t.Injector,s.DOCUMENT]),t["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),t["\u0275mpd"](1073742336,y.q,y.q,[]),t["\u0275mpd"](1073742336,y.i,y.i,[]),t["\u0275mpd"](1073742336,u.Eb,u.Eb,[]),t["\u0275mpd"](1073742336,m.o,m.o,[[2,m.u],[2,m.m]]),t["\u0275mpd"](1073742336,d,d,[]),t["\u0275mpd"](1024,m.k,function(){return[[{path:"",component:c}]]},[])])})}}]);